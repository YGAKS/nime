<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Dynamic Navbar Title with Slide Animation</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      user-select: none;
    }
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
    }
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px;
      position: sticky;
      top: 0;
      z-index: 1000;
      overflow: hidden;
      height: 60px;
      background: #f4f4f4;
    }
    .navbar-title {
      font-size: 18px;
      color: #333;
      font-weight: bold;
      text-align: center;
      flex-grow: 1;
      position: relative;
      height: 25px;
      overflow: hidden;
    }
    .navbar-title span {
      display: block;
      position: absolute;
      width: 100%;
      text-align: center;
      top: 0;
      left: 0;
      opacity: 1;
      transition: all 0.5s ease;
    }
    .navbar-icons {
      display: flex;
      align-items: center;
    }
    .navbar-icons .icon {
      color: #f29e38;
      font-size: 20px;
      cursor: none;
    }
    .content-wrapper {
      padding: 10px;
      min-height: calc(100vh - 120px);
      position: relative;
      overflow: hidden;
    }
    #content {
      position: relative;
    }
    .card {
      background: white;
      color: #BBB;
      border-radius: 8px;
      padding: 10px;
      margin-bottom: 10px;
      font-size: 14px;
    }
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background-color: #fff;
      display: flex;
      justify-content: space-around;
      padding: 10px 0;
      z-index: 100;
    }
    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      color: #bbb;
      padding-top: 5px;
      font-size: 12px;
      transition: color 0.3s ease, transform 0.3s ease;
      pointer-events: auto;
    }
    .nav-item.active {
      color: #f29e38;
      pointer-events: none;
    }
    .nav-icon {
      font-size: 22px;
      transition: transform 0.3s ease;
    }
    .nav-item span {
      margin-top: 5px;
      font-size: 10px;
    }
    
     .pull-area {
      width: 100%;
      height: 0;
      background: transparent;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      overflow: visible;
      transition: height 0.2s ease;
      pointer-events: none;
    }
.icon-wrapper {
  transform: scale(0);
  transition: transform 0.2s ease;
  color: #fff;
  background-color: #f29e38;
  font-size: 20px;
  height: 40px;
  width: 40px;
  border-radius: 50%;
  z-index: 100;
  margin-bottom: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
}
    .rotate {
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      from { transform: rotate(0deg);}
      to { transform: rotate(360deg);}
    }
  </style>
</head>
<body>

<nav class="navbar">
  <div class="navbar-icons">
    <a href="/tentang" class="icon"><i class="fa-solid fa-circle-question"></i></a>
  </div>
  <div class="navbar-title" id="navbarTitle">
    <span>PLIXNIMEIN</span>
  </div>
  <div class="navbar-icons">
    <a href="/tentang/tambah.html" class="icon"><i class="fas fa-circle-plus"></i></a>
  </div>
</nav>
<div class="content-wrapper" id="wrapper">
 <div class="pull-area" id="pullArea">
    <div class="icon-wrapper" id="iconWrapper">
      <i class="fas fa-redo" id="refreshIcon"></i>
    </div>
  </div>
  <div id="content">
  </div>
</div>

<div class="bottom-nav">
  <div class="nav-item active" onclick="setActive(this, 'PLIXNIMEIN')">
    <i class="fas fa-home nav-icon"></i>
    <span>beranda</span>
  </div>
  <div class="nav-item" onclick="setActive(this, 'EKSPLORASI')">
    <i class="fas fa-compass nav-icon"></i>
    <span>eksplorasi</span>
  </div>
  <div class="nav-item" onclick="setActive(this, 'PEMBARUAN')">
    <i class="fas fa-book nav-icon"></i>
    <span>pembaruan</span>
  </div>
  <div class="nav-item" onclick="setActive(this, 'NOTIFIKASI')">
    <i class="fas fa-bell nav-icon"></i>
    <span>notifikasi</span>
  </div>
</div>

<script>let isAnimating = false;
let currentIndex = 0;
const menuOrder = ['PLIXNIMEIN', 'EKSPLORASI', 'PEMBARUAN', 'NOTIFIKASI'];

document.addEventListener("DOMContentLoaded", function() {
  // Memuat konten pertama, misalnya 'PLIXNIMEIN' (home) saat halaman pertama kali dimuat
  loadContent('PLIXNIMEIN', 'none');
});

function setActive(el, titleText) {
  if (isAnimating) return;
  isAnimating = true;

  const newIndex = menuOrder.indexOf(titleText);
  const direction = newIndex > currentIndex ? 'left' : 'right';
  currentIndex = newIndex;

  document.querySelectorAll('.nav-item').forEach(item => {
    item.classList.remove('active');
    item.style.pointerEvents = 'auto';
  });
  el.classList.add('active');
  el.style.pointerEvents = 'none';

  const navbarTitle = document.getElementById('navbarTitle');
  const currentTitle = navbarTitle.querySelector('span');
  const content = document.getElementById('content');

  if (currentTitle) {
    currentTitle.style.top = '100%';
    currentTitle.style.opacity = '0';
    setTimeout(() => {
      navbarTitle.removeChild(currentTitle);
      const newTitle = document.createElement('span');
      newTitle.textContent = titleText;
      newTitle.style.top = '-100%';
      newTitle.style.opacity = '0';
      navbarTitle.appendChild(newTitle);
      void newTitle.offsetWidth;
      setTimeout(() => {
        newTitle.style.top = '0';
        newTitle.style.opacity = '1';
      }, 10);
    }, 100);
  }

  // Animasi keluar hanya jika konten berubah
  content.style.transition = 'transform 0.3s ease, opacity 0.3s ease';
  content.style.transform = direction === 'left' ? 'translateX(-100%)' : 'translateX(100%)';
  content.style.opacity = '0';

  setTimeout(() => {
    loadContent(titleText, direction);
  }, 100);
}

function loadContent(titleText, direction) {
  const content = document.getElementById('content');
  let fileName = '';

  if (titleText === 'PLIXNIMEIN') {
    fileName = 'https://plixgo.my.id/data-home.html'; // URL untuk file data-home.html
  } else if (titleText === 'EKSPLORASI') {
    fileName = 'https://plixgo.my.id/data-eksplorasi.html'; // URL untuk file data-eksplorasi.html
  } else if (titleText === 'PEMBARUAN') {
    fileName = 'https://plixgo.my.id/data-pembaruan.html'; // URL untuk file data-pembaruan.html
  } else if (titleText === 'NOTIFIKASI') {
    fileName = 'https://plixgo.my.id/data-notifikasi.html'; // URL untuk file data-notifikasi.html
  }

  if (fileName) {
    // Memuat konten dari URL file
    fetch(fileName + '?v=' + Date.now()) // Menambahkan query string untuk menghindari cache
      .then(response => {
        if (!response.ok) {
          throw new Error('File tidak ditemukan.');
        }
        return response.text();
      })
      .then(html => {
        // Jika konten berhasil dimuat, animasi masuk dilakukan setelah loading selesai
        content.innerHTML = html;

        // Animasi masuk setelah konten baru dimuat
        if (direction !== 'none') {
          content.style.transition = 'none';
          content.style.transform = direction === 'left' ? 'translateX(100%)' : 'translateX(-100%)';
          void content.offsetWidth; // Force reflow untuk animasi
          setTimeout(() => {
            content.style.transition = 'transform 0.3s ease, opacity 0.3s ease';
            content.style.transform = 'translateX(0)';
            content.style.opacity = '1';
            setTimeout(() => {
              isAnimating = false;
            }, 100);
          }, 20);
        } else {
          // Jika tidak ada animasi (awal load), hanya tampilkan konten tanpa animasi
          isAnimating = false;
        }
      })
      .catch(error => {
        content.innerHTML = '<div class="card">Gagal memuat konten.</div>';
        console.error(error);
        isAnimating = false;
      });
  }
}
</script>
<script>
let startY=0,currentY=0,isReadyToRefresh=false,wrapper=document.getElementById("wrapper"),pullArea=document.getElementById("pullArea"),iconWrapper=document.getElementById("iconWrapper"),refreshIcon=document.getElementById("refreshIcon");
window.addEventListener("touchstart",function(e){if(window.scrollY===0){startY=e.touches[0].pageY}});
window.addEventListener("touchmove",function(e){if(window.scrollY===0){currentY=e.touches[0].pageY;if(currentY>startY){let distance=(currentY-startY)/1,pullDistance=Math.min(distance,50);
pullArea.style.height=`${pullDistance}px`;wrapper.style.transform=`translateY(${pullDistance}px)`;let scale=Math.min(pullDistance/50,1);
iconWrapper.style.transform=`scale(${scale})`;
if(pullDistance>40){isReadyToRefresh=true;refreshIcon.classList.add("rotate")}else{isReadyToRefresh=false;refreshIcon.classList.remove("rotate")}}}});
window.addEventListener("touchend",function(){if(isReadyToRefresh){setTimeout(()=>{location.reload()},500)}else{pullArea.style.height=`0px`;wrapper.style.transform=`translateY(0)`;iconWrapper.style.transform=`scale(0)`;refreshIcon.classList.remove("rotate")}});
</script>
</body>
</html>
